ETH_Company = {


	ETH_shipyard_company = {

		available = {
			or = {
				has_idea = ETH_portugese_ethiopian_shipyard_company
				has_idea = ETH_french_ethiopian_shipyard_company
				has_idea = ETH_anglo_ethiopian_shipyard_company
				has_idea = ETH_german_ethiopian_shipyard_company
			}
		}

		visible = {
			always = no
		}
		
		
		
		fire_only_once = yes

		cost = 0
		
		complete_effect = {
			hidden_effect = { set_country_flag = ETH_foreign_company }
		}
		
		days_remove = 120
		
		remove_effect = {
			random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = { 
							building = dockyard
							size > 0 
							include_locked = yes 
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
			}
			set_country_flag = ETH_company_established
			add_popularity = {
				ideology = chauvinist_populism
				popularity = 0.07
			}	
			activate_mission = ETH_shipyard_export_quota
		}
	}
	
	ETH_shipyard_export_quota = {

		available = {
			has_resources_amount = {
				resource = oil
				amount > 11
				state = 815
			}
		}
		
		activation = {
			always = no
		}
		
		selectable_mission = yes
		days_mission_timeout = 360
		fire_only_once = yes		
		
		cancel_trigger = {
			hidden_trigger = {
				has_country_flag = ETH_Coup_Started
			}
		}
		
		days_remove = ETH_fullfilled_quota?0
		remove_effect = {
			hidden_effect = {
				activate_mission = ETH_shipyard_export_quota
			}
		}
		
		complete_effect = {
			hidden_effect = {
				if = {
					limit = {
						has_idea = ETH_anglo_ethiopian_shipyard_company
					}
					ENG = { country_event = { days = 1 id = ethiopia_export.1 } }
				}
				else_if = {
					limit = {
						has_idea = ETH_portugese_ethiopian_shipyard_company
					}
					POR = { country_event = { days = 1 id = ethiopia_export.1 } }
				}
				else_if = {
					limit = {
						has_idea = ETH_french_ethiopian_shipyard_company
					}
					FRA = { country_event = { days = 1 id = ethiopia_export.1 } }
				}
				else_if = {
					limit = {
						has_idea = ETH_german_ethiopian_shipyard_company
					}
				PRS = { country_event = { days = 1 id = ethiopia_export.1 } }
				}
				set_variable = { ETH_fullfilled_quota = days_mission_timeout@ETH_shipyard_export_quota }
			}
		}
			
		timeout_effect = {
			
		}
	}

	ETH_cotton_plantation = {

		available = {
			or = {
				has_idea = ETH_portugese_ethiopian_cotton_company
				has_idea = ETH_french_ethiopian_cotton_company
				has_idea = ETH_anglo_ethiopian_cotton_company
				has_idea = ETH_german_ethiopian_cotton_company
			}
		}

		visible = {
			always = no
			
		}
		
		fire_only_once = yes

		cost = 0
		
		complete_effect = {
			hidden_effect = { set_country_flag = ETH_foreign_company }
		}
		
		days_remove = 120
		
		remove_effect = {
			add_resource = { 
						type = cotton
						amount = 12 
						state = 815
			}
			set_country_flag = ETH_company_established
			add_popularity = {
						ideology = chauvinist_populism
						popularity = 0.07
			}
			activate_mission = ETH_cotton_export_quota
		}
	}
	
	ETH_cotton_export_quota = {

		available = {
			has_resources_amount = {
				resource = cotton
				amount > 11
				state = 815
			}
		}

		activation = {
			always = no	
		}
		
		selectable_mission = yes
		days_mission_timeout = 360
		fire_only_once = yes		
		
		cancel_trigger = {
			hidden_trigger = {
				has_country_flag = ETH_Coup_Started
			}
		}
		
		days_remove = ETH_fullfilled_quota?0
		remove_effect = {
			hidden_effect = {
				activate_mission = ETH_cotton_export_quota
			}
		}
		
		complete_effect = {
			
			if = {
				limit = {
					has_idea = ETH_portugese_ethiopian_cotton_company
				}
				POR = { country_event = { days = 1 id = ethiopia_export.3 } }
			}
			else_if = {
				limit = {
					has_idea = ETH_french_ethiopian_cotton_company
				}
				FRA = { country_event = { days = 1 id = ethiopia_export.3 } }
			}
			else_if = {
				limit = {
					has_idea = ETH_anglo_ethiopian_cotton_company
				}
				ENG = { country_event = { days = 1 id = ethiopia_export.3 } }
			}
			else_if = {
				limit = {
					has_idea = ETH_german_ethiopian_cotton_company
				}
				PRS = { country_event = { days = 1 id = ethiopia_export.3 } }
			}
			set_variable = { ETH_fullfilled_quota = days_mission_timeout@ETH_cotton_export_quota }
		}
		
		timeout_effect = {
		
		}
	}
	
	ETH_logging_plantation = {

		available = {
			or = {
				has_idea = ETH_portugese_ethiopian_logging_company
				has_idea = ETH_french_ethiopian_logging_company
			}
		}

		visible = {
			always = no
			
		}
		
		fire_only_once = yes

		cost = 0
		
		complete_effect = {
			hidden_effect = { set_country_flag = ETH_foreign_company }
		}
		
		days_remove = 120
		
		 remove_effect = {
			add_resource = { 
						type = wood
						amount = 12 
						state = 815
			}
			set_country_flag = ETH_company_established
			add_popularity = {
				ideology = chauvinist_populism
				popularity = 0.07
			}
			activate_mission = ETH_lumber_export_quota
		}
	}
	
	ETH_lumber_export_quota = {

		available = {
			has_resources_amount = {
				resource = wood
				amount > 11
				state = 815
			}
		}

		activation = {
			always = no
		}
		
		selectable_mission = yes
		days_mission_timeout = 360
		fire_only_once = yes		
		
		cancel_trigger = {
			hidden_trigger = {
				has_country_flag = ETH_Coup_Started
			}
		}
		
		days_remove = ETH_fullfilled_quota?0
		remove_effect = {
			hidden_effect = {
				activate_mission = ETH_lumber_export_quota
			}
		}
		
		complete_effect = {
			
			if = {
				limit = {
					has_idea = ETH_portugese_ethiopian_logging_company
				}
				POR = { country_event = { days = 1 id = ethiopia_export.5 } }
			}
			else_if = {
				limit = {
					has_idea = ETH_french_ethiopian_logging_company
				}
				FRA = { country_event = { days = 1 id = ethiopia_export.5 } }
			}
			set_variable = { ETH_fullfilled_quota = days_mission_timeout@ETH_lumber_export_quota }
		}
		
		timeout_effect = {
		
		}
	}
	
	ETH_rubber_plantation = {

		available = {
			or = {
				has_idea = ETH_anglo_ethiopian_rubber_company
				has_idea = ETH_german_ethiopian_rubber_company
			}
		}

		visible = {
			always = no
			
		}

		fire_only_once = yes

		cost = 0
		
		complete_effect = {
			hidden_effect = { set_country_flag = ETH_foreign_company }
		}
		
		days_remove = 120
		
		 remove_effect = {
			add_resource = { 
						type = rubber 
						amount = 12 
						state = 815
			}
			set_country_flag = ETH_company_established
			add_popularity = {
						ideology = chauvinist_populism
						popularity = 0.07
			}
			activate_mission = ETH_rubber_export_quota
		}
	}

	ETH_rubber_export_quota = {

		available = {
			has_resources_amount = {
				resource = rubber
				amount > 11
				state = 815
			}
		}

		activation = {
			always = no
		}
		
		selectable_mission = yes
		days_mission_timeout = 360
		fire_only_once = yes		
		
		cancel_trigger = {
			hidden_trigger = {
				has_country_flag = ETH_Coup_Started
			}
		}
		
		days_remove = ETH_fullfilled_quota?0
		remove_effect = {
			hidden_effect = {
				activate_mission = ETH_rubber_lumber_quota
			}
		}
		
		complete_effect = {
			
			if = {
				limit = {
					has_idea = ETH_anglo_ethiopian_rubber_company
				}
				ENG = { country_event = { days = 1 id = ethiopia_export.7 } }
			}
			else_if = {
				limit = {
					has_idea = ETH_german_ethiopian_rubber_company
				}
				PRS = { country_event = { days = 1 id = ethiopia_export.7 } }
			}
			set_variable = { ETH_fullfilled_quota = days_mission_timeout@ETH_rubber_export_quota }
		}
		
		timeout_effect = {
		
		}
		
	}



	ETH_lease_company_port = {

		available = {
			has_country_flag = ETH_company_established
			any_owned_state={
			#limit = {
						is_coastal = yes
			#}
			}
		}

		visible = {
			has_country_flag = ETH_foreign_company
		}
		
		fire_only_once = yes

		cost = 0
		
		 complete_effect = {
			set_country_flag = ETH_lease_company_port
			add_popularity = {
					ideology = chauvinist_populism
					popularity = 0.09
			}
		}
	}

	ETH_railway_line = {

		available = {
			has_country_flag = ETH_lease_company_port
		}

		visible = {
			has_country_flag = ETH_foreign_company
		}
		
		fire_only_once = yes

		cost = 0
		
		 complete_effect = {
				ETH = { country_event = { days = 1 id = ethiopia_first_railway.1 } }
		}
	}

	ETH_railway_infrastructure_construction = {

		available = {
			has_tech = iron_railways
		}

		visible = {
			has_country_flag = ETH_railway_line
			has_country_flag = ETH_foreign_company
		}
		
		fire_only_once = yes
		
		days_remove = 180

		cost = 0
		
		 remove_effect = {
				country_event = { days = 1 id = ethiopia_main_railway.1 }
				custom_effect_tooltip = EDC_afr.6.t
				hidden_effect = {
					country_event = { id = EDC_afr.6 hours = 1 } 
				}
				815 = {
					if={
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
							OR = {
								is_in_home_area = yes
								NOT = {
									owner = {
										any_owned_state = {
											free_building_slots = {
												building = infrastructure
												size > 0
											}
											is_in_home_area = yes
										}
									}
								}
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				
				}
		}
	}

	ETH_main_railway_route_construction = {

		available = {
			has_country_flag = ETH_foreign_company
			AND = {
					has_tech = iron_railways
					has_tech = steam_engine
					has_tech = steam_locomotive
			}
		}

		visible = {
			has_country_flag = ETH_railway_infrastructure_construction
			has_country_flag = ETH_foreign_company
		}
		
		fire_only_once = yes
		
		days_remove = 360

		cost = 0
		
		 remove_effect = {
				custom_effect_tooltip = EDC_afr_20ip
				hidden_effect = {
					country_event = { id = EDC_afr.6 hours = 1 }
					country_event = { id = EDC_afr.6 hours = 1 } 
				}
				add_ideas = { AF_T_small_scale_railways }
				set_country_flag = ETH_main_railway_route
		}
	}

	ETH_company_military_access = {

		available = {
			has_country_flag = ETH_company_established
		}

		visible = {
			has_country_flag = ETH_foreign_company
		}
		
		fire_only_once = yes

		cost = 0
		
		 complete_effect = {
			if = {
				limit = {
					has_idea = ETH_portugese_ethiopian_cotton_company
					has_idea = ETH_portugese_ethiopian_shipyard_company
					has_idea = ETH_portugese_ethiopian_logging_company
				}
				POR = { country_event = { days = 1 id = ethiopia.3 } }
			}
			if = {
				limit = {
					has_idea = ETH_french_ethiopian_cotton_company
					has_idea = ETH_french_ethiopian_shipyard_company
					has_idea = ETH_french_ethiopian_logging_company
				}
				FRA = { country_event = { days = 1 id = ethiopia.3 } }
			}
			if = {
				limit = {
					has_idea = ETH_anglo_ethiopian_cotton_company
					has_idea = ETH_anglo_ethiopian_shipyard_company
					has_idea = ETH_anglo_ethiopian_rubber_company
				}
				ENG = { country_event = { days = 1 id = ethiopia.3 } }
			}
			if = {
				limit = {
					has_idea = ETH_german_ethiopian_cotton_company
					has_idea = ETH_german_ethiopian_shipyard_company
					has_idea = ETH_german_ethiopian_rubber_company
				}
				PRS = { country_event = { days = 1 id = ethiopia.3 } }
			}
			set_country_flag = ETH_company_military_access
		}
	}

	ETH_company_military_expertise = {

		available = {
			AND = {
				has_country_flag = ETH_lease_company_port
				has_country_flag = ETH_company_military_access
			}
		}

		visible = {
			has_country_flag = ETH_foreign_company
		}
		
		fire_only_once = yes

		cost = 0
		
		 complete_effect = {
					if = {
						limit = {
							or = {
								has_idea = ETH_portugese_ethiopian_cotton_company
								has_idea = ETH_portugese_ethiopian_shipyard_company
								has_idea = ETH_portugese_ethiopian_logging_company
							}
						}
						add_equipment_to_stockpile = { type = infantry_equipment_rifle_0 amount = 1000 producer = POR }
						add_equipment_to_stockpile = { type = uniform_equipment_0 amount = 1000 producer = POR }
					}
					else_if = {
						limit = {
							or = {
								has_idea = ETH_french_ethiopian_cotton_company
								has_idea = ETH_french_ethiopian_shipyard_company
								has_idea = ETH_french_ethiopian_logging_company
							}
						}
						add_equipment_to_stockpile = { type = infantry_equipment_rifle_0 amount = 1000 producer = FRA }
						add_equipment_to_stockpile = { type = uniform_equipment_0 amount = 1000 producer = FRA }
					}
					else_if = {
						limit = {
							or = {
								has_idea = ETH_anglo_ethiopian_cotton_company
								has_idea = ETH_anglo_ethiopian_shipyard_company
								has_idea = ETH_anglo_ethiopian_rubber_company
							}
						}
						add_equipment_to_stockpile = { type = infantry_equipment_rifle_0 amount = 1000 producer = ENG }
						add_equipment_to_stockpile = { type = uniform_equipment_0 amount = 1000 producer = ENG }
					}
					else_if = {
						limit = {
							or = {
								has_idea = ETH_german_ethiopian_cotton_company
								has_idea = ETH_german_ethiopian_shipyard_company
								has_idea = ETH_german_ethiopian_rubber_company
							}
						}
						add_equipment_to_stockpile = { type = infantry_equipment_rifle_0 amount = 1000 producer = PRS }
						add_equipment_to_stockpile = { type = uniform_equipment_0 amount = 1000 producer = PRS }
					}
				add_manpower = 5000
				set_country_flag = ETH_company_military_expertise
				add_popularity = {
					ideology = chauvinist_populism
					popularity = 0.03
				}
		}
	}

	ETH_company_tech = {

		available = {
				has_country_flag = ETH_company_military_expertise
		}

		visible = {
			has_country_flag = ETH_foreign_company
		}
		
		fire_only_once = yes

		cost = 0
		
		 complete_effect = {
			if = {
				limit = {
					has_idea = ETH_portugese_ethiopian_cotton_company
					has_idea = ETH_portugese_ethiopian_shipyard_company
					has_idea = ETH_portugese_ethiopian_logging_company
				}
				#POR = { country_event = { days = 1 id = ethiopia.32 } }
			}
			else_if = {
				limit = {
					has_idea = ETH_french_ethiopian_cotton_company
					has_idea = ETH_french_ethiopian_shipyard_company
					has_idea = ETH_french_ethiopian_logging_company
				}
				#FRA = { country_event = { days = 1 id = ethiopia.32 } }
			}
			else_if = {
				limit = {
					has_idea = ETH_anglo_ethiopian_cotton_company
					has_idea = ETH_anglo_ethiopian_shipyard_company
					has_idea = ETH_anglo_ethiopian_rubber_company
				}
				#ENG = { country_event = { days = 1 id = ethiopia.32 } }
			}
			else_if = {
				limit = {
					has_idea = ETH_german_ethiopian_cotton_company
					has_idea = ETH_german_ethiopian_shipyard_company
					has_idea = ETH_german_ethiopian_rubber_company
				}
				#PRS = { country_event = { days = 1 id = ethiopia.32 } }
			}
			set_country_flag = ETH_company_tech
		}
	}

	ETH_request_company_license = {

		available = {
			has_country_flag = ETH_company_tech
		}

		visible = {
			has_country_flag = ETH_foreign_company
		}
		
		fire_only_once = yes

		cost = 0
		
		 complete_effect = {
			if = {
				limit = {
					has_idea = ETH_portugese_ethiopian_cotton_company
					has_idea = ETH_portugese_ethiopian_shipyard_company
					has_idea = ETH_portugese_ethiopian_logging_company
				}
				POR = { country_event = { days = 1 id = ethiopia.4 } }
			}
			else_if = {
				limit = {
					has_idea = ETH_french_ethiopian_cotton_company
					has_idea = ETH_french_ethiopian_shipyard_company
					has_idea = ETH_french_ethiopian_logging_company
				}
				FRA = { country_event = { days = 1 id = ethiopia.4 } }
			}
			else_if = {
				limit = {
					has_idea = ETH_anglo_ethiopian_cotton_company
					has_idea = ETH_anglo_ethiopian_shipyard_company
					has_idea = ETH_anglo_ethiopian_rubber_company
				}
				ENG = { country_event = { days = 1 id = ethiopia.4 } }
			}
			else_if = {
				limit = {
					has_idea = ETH_german_ethiopian_cotton_company
					has_idea = ETH_german_ethiopian_shipyard_company
					has_idea = ETH_german_ethiopian_rubber_company
				}
				PRS = { country_event = { days = 1 id = ethiopia.4 } }
			}
			set_country_flag = ETH_request_company_license
		}
	}

	ETH_prepare__corporate_coup = {

		available = {
			AND = {
				has_idea = industrializing
				chauvinist_populism > 0.60
				has_country_flag = ETH_main_railway_route
				has_country_flag = ETH_request_company_license
			}
			
		}

		visible = {
			has_country_flag = ETH_foreign_company
		}
		
		fire_only_once = yes

		cost = 0
		
		 complete_effect = {
			if = {
				limit = {
					has_idea = ETH_portugese_ethiopian_cotton_company
					has_idea = ETH_portugese_ethiopian_shipyard_company
					has_idea = ETH_portugese_ethiopian_logging_company
				}
				set_country_flag = ETH_POR_Coup_Forming
			}
			else_if = {
				limit = {
					has_idea = ETH_french_ethiopian_cotton_company
					has_idea = ETH_french_ethiopian_shipyard_company
					has_idea = ETH_french_ethiopian_logging_company
				}
				set_country_flag = ETH_FRA_Coup_Forming
			}
			else_if = {
				limit = {
					has_idea = ETH_anglo_ethiopian_cotton_company
					has_idea = ETH_anglo_ethiopian_shipyard_company
					has_idea = ETH_anglo_ethiopian_rubber_company
				}
				set_country_flag = ETH_ENG_Coup_Forming
			}
			else_if = {
				limit = {
					has_idea = ETH_german_ethiopian_cotton_company
					has_idea = ETH_german_ethiopian_shipyard_company
					has_idea = ETH_german_ethiopian_rubber_company
				}
				set_country_flag = ETH_GER_Coup_Forming
			}
			set_country_flag = ETH_Coup_Forming
		}
	}

}

ETH_Corporate_Coup = {

	ETH_corporate_coup_plan_tewodrosII_assassination = {

		available = {
			AND = {
				chauvinist_populism > 0.50
				has_country_flag = ETH_Coup_Forming
				has_country_leader = { 
						ruling_only = yes 
						name = "Tewodros II" 
				}
			}
		}

		visible = {
			has_country_flag = ETH_foreign_company
			has_civil_war = no
			NOT = {
				has_country_flag = ETH_Coup_Started
			}
		}
		
		fire_only_once = yes

		cost = 0
		
		 complete_effect = {
			if = {
				limit = {
					has_idea = ETH_portugese_ethiopian_cotton_company
					has_idea = ETH_portugese_ethiopian_shipyard_company
					has_idea = ETH_portugese_ethiopian_logging_company
				}
				#POR = { country_event = { days = 1 id = ethiopia.34 } }
			}
			else_if = {
				limit = {
					has_idea = ETH_french_ethiopian_cotton_company
					has_idea = ETH_french_ethiopian_shipyard_company
					has_idea = ETH_french_ethiopian_logging_company
				}
				#FRA = { country_event = { days = 1 id = ethiopia.34 } }
			}
			else_if = {
				limit = {
					has_idea = ETH_anglo_ethiopian_cotton_company
					has_idea = ETH_anglo_ethiopian_shipyard_company
					has_idea = ETH_anglo_ethiopian_rubber_company
				}
				#ENG = { country_event = { days = 1 id = ethiopia.34 } }
			}
			else_if = {
				limit = {
					has_idea = ETH_german_ethiopian_cotton_company
					has_idea = ETH_german_ethiopian_shipyard_company
					has_idea = ETH_german_ethiopian_rubber_company
				}
				#PRS = { country_event = { days = 1 id = ethiopia.34 } }
			}
		}
	}	

	ETH_corporate_coup_plan_guarantee_support = {

		available = {
			chauvinist_populism > 0.45
			has_country_flag = ETH_Coup_Forming
		}

		visible = {
			has_country_flag = ETH_foreign_company
			has_civil_war = no
			NOT = {
				has_country_flag = ETH_Coup_Started
			}
		}
		
		fire_only_once = yes

		cost = 0
		
		 complete_effect = {
			if = {
				limit = {
					has_idea = ETH_portugese_ethiopian_cotton_company
					has_idea = ETH_portugese_ethiopian_shipyard_company
					has_idea = ETH_portugese_ethiopian_logging_company
				}
				POR = { country_event = { days = 1 id = ethiopia_company_coup.1 } }
			}
			else_if = {
				limit = {
					has_idea = ETH_french_ethiopian_cotton_company
					has_idea = ETH_french_ethiopian_shipyard_company
					has_idea = ETH_french_ethiopian_logging_company
				}
				FRA = { country_event = { days = 1 id = ethiopia_company_coup.1 } }
			}
			else_if = {
				limit = {
					has_idea = ETH_anglo_ethiopian_cotton_company
					has_idea = ETH_anglo_ethiopian_shipyard_company
					has_idea = ETH_anglo_ethiopian_rubber_company
				}
				ENG = { country_event = { days = 1 id = ethiopia_company_coup.1 } }
			}
			else_if = {
				limit = {
					has_idea = ETH_german_ethiopian_cotton_company
					has_idea = ETH_german_ethiopian_shipyard_company
					has_idea = ETH_german_ethiopian_rubber_company
				}
				PRS = { country_event = { days = 1 id = ethiopia_company_coup.1 } }
			}
		}
	}

	ETH_corporate_coup_plan_initiate_coup = {

		available = {
			chauvinist_populism > 0.60
			has_country_flag = ETH_Coup_Forming
		}

		visible = {
			has_country_flag = ETH_foreign_company
		}
		
		fire_only_once = yes

		cost = 0
		
		 complete_effect = {
			if = {
				limit ={
					has_idea = ETH_portugese_ethiopian_cotton_company
					has_idea = ETH_portugese_ethiopian_shipyard_company
					has_idea = ETH_portugese_ethiopian_logging_company
				}
				POR = { country_event = { days = 1 id = ethiopia_company_coup.4 } }
			}
			else_if = {
				limit ={
					has_idea = ETH_french_ethiopian_cotton_company
					has_idea = ETH_french_ethiopian_shipyard_company
					has_idea = ETH_french_ethiopian_logging_company
				}
				FRA = { country_event = { days = 1 id = ethiopia_company_coup.4 } }
			}
			else_if = {
				limit ={
					has_idea = ETH_anglo_ethiopian_cotton_company
					has_idea = ETH_anglo_ethiopian_shipyard_company
					has_idea = ETH_anglo_ethiopian_rubber_company
				}
				ENG = { country_event = { days = 1 id = ethiopia_company_coup.4 } }
			}
			else_if = {
				limit ={
					has_idea = ETH_german_ethiopian_cotton_company
					has_idea = ETH_german_ethiopian_shipyard_company
					has_idea = ETH_german_ethiopian_rubber_company
				}
				PRS = { country_event = { days = 1 id = ethiopia_company_coup.4 } }
			}
			set_country_flag = ETH_Coup_Started
		}
	}

	ETH_corporate_coup_volunteers = {

		available = {
			has_country_flag = ETH_corporate_coup_support
			has_civil_war = yes
		}

		visible = {
			has_civil_war = yes
			has_country_flag = ETH_foreign_company
		}
		
		fire_only_once = yes

		cost = 0
		
		complete_effect = {
			if = {
				limit = {
					has_idea = ETH_portugese_ethiopian_cotton_company
					has_idea = ETH_portugese_ethiopian_shipyard_company
					has_idea = ETH_portugese_ethiopian_logging_company
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_rifle_0
					amount = 500
					producer = POR
				}
				add_equipment_to_stockpile = {
					type = uniform_equipment_1
					amount = 500
					producer = POR
				}
			}
			else_if = {
				limit = {
					has_idea = ETH_french_ethiopian_cotton_company
					has_idea = ETH_french_ethiopian_shipyard_company
					has_idea = ETH_french_ethiopian_logging_company
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_rifle_0
					amount = 500
					producer = FRA
				}
				add_equipment_to_stockpile = {
					type = uniform_equipment_1
					amount = 500
					producer = FRA
				}
			}
			else_if = {
				limit = {
					has_idea = ETH_anglo_ethiopian_cotton_company
					has_idea = ETH_anglo_ethiopian_shipyard_company
					has_idea = ETH_anglo_ethiopian_rubber_company
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_rifle_0
					amount = 500
					producer = ENG
				}
				add_equipment_to_stockpile = {
					type = uniform_equipment_1
					amount = 500
					producer = ENG
				}
			}
			else_if = {
				limit = {
					has_idea = ETH_german_ethiopian_cotton_company
					has_idea = ETH_german_ethiopian_shipyard_company
					has_idea = ETH_german_ethiopian_rubber_company
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_rifle_0
					amount = 500
					producer = PRS
				}
				add_equipment_to_stockpile = {
					type = uniform_equipment_1
					amount = 500
					producer = PRS
				}
			}
			add_manpower = 5000
		}
	}

	ETH_corporate_coup_plea_for_support = {

		available = {
			NOT = {
				has_country_flag = ETH_corporate_coup_support
			}
			has_civil_war = yes
		}

		visible = {
			has_civil_war = yes
			has_country_flag = ETH_foreign_company
		}
		
		fire_only_once = yes

		cost = 0
		
		days_remove = 30
		
		modifier = {
			political_power_gain = -1
		}
		
		remove_effect = {
			set_country_flag = ETH_corporate_coup_support
		}
	}

}

ETH_proclaim_coalition_against_islam_category = {


	Proclaim_Coalition = {

		available = {
			has_completed_focus = ETH_proclaim_coalition_against_islam
		}

		fire_only_once = yes

		cost = 0
		
		 complete_effect = {
			if = {
				limit = { 
					AND = {
						has_completed_focus = ETH_keep_the_missionaries
						has_completed_focus = ETH_convert_to_protestant
						NOT = {
							has_completed_focus = ETH_british_companies
						}
					}
				}
				ENG = { country_event = { days = 1 id = ethiopia_coalition_against_islam_chances.1 } }
			}
			else_if = {
				limit = { 
					AND = {
						has_completed_focus = ETH_supress_the_missionaries
						NOT = {
							has_completed_focus = ETH_british_companies
						}
					}
				}
				ENG = { country_event = { days = 1 id = ethiopia_coalition_against_islam_chances.2 } }
			}
			else_if = {
				limit = { 
					AND = {
						has_completed_focus = ETH_keep_the_missionaries
						NOT = {
							has_completed_focus = ETH_convert_to_protestant
							has_completed_focus = ETH_british_companies
						}
					}
				}
				ENG = { country_event = { days = 1 id = ethiopia_coalition_against_islam_chances.3 } }
			}
			else_if = {
				limit = { 
					AND = {
						has_completed_focus = ETH_british_companies
						has_completed_focus = ETH_supress_the_missionaries
					}
				}
				ENG = { country_event = { days = 1 id = ethiopia_coalition_against_islam_chances.4 } }
			}
			else_if = {
				limit = { 
					AND = {
						has_completed_focus = ETH_british_companies
						has_completed_focus = ETH_keep_the_missionaries
						has_completed_focus = ETH_convert_to_protestant
					}
				}
				ENG = { country_event = { days = 1 id = ethiopia_coalition_against_islam_chances.5 } }
			}
			else_if = {
				limit = { 
					AND = {
						has_completed_focus = ETH_british_companies
						has_completed_focus = ETH_keep_the_missionaries
						NOT = {
							has_completed_focus = ETH_convert_to_protestant
						}
					}
				}
				ENG = { country_event = { days = 1 id = ethiopia_coalition_against_islam_chances.6 } }
			}
			hidden_effect = {
				if = {
					limit = { 
						or = {
							AND = {
								has_completed_focus = ETH_keep_the_missionaries
								has_completed_focus = ETH_convert_to_protestant
								NOT = {
									has_completed_focus = ETH_british_companies
								}
							}
							AND = {
								has_completed_focus = ETH_supress_the_missionaries
								NOT = {
									has_completed_focus = ETH_british_companies
								}
							}	
							AND = {
								has_completed_focus = ETH_keep_the_missionaries
								NOT = {
									has_completed_focus = ETH_convert_to_protestant
									has_completed_focus = ETH_british_companies
								}
							}
						}
					}
					ETH = { country_event = { days = 7 id = ethiopia_coalition_against_islam_insurgents.1 } }
				}
				else_if = {
					limit = {
						or = {
							AND = {
								has_completed_focus = ETH_british_companies
								has_completed_focus = ETH_supress_the_missionaries
							}
							AND = {
								has_completed_focus = ETH_british_companies
								has_completed_focus = ETH_keep_the_missionaries
								has_completed_focus = ETH_convert_to_protestant
							}
							AND = {
								has_completed_focus = ETH_british_companies
								has_completed_focus = ETH_keep_the_missionaries
								NOT = {
									has_completed_focus = ETH_convert_to_protestant
								}
							}
						}
					}
					ETH = { country_event = { days = 7 id = ethiopia_coalition_against_islam_insurgents.5 } }
				}
			}
		}
	}
}


ETH_Internal_Affairs = {


	ETH_Operation_Strike_Eritrea = {

		available = {
				ETH = { 
					controls_state = 550
				}
		}

		visible = {
		
		}
		selectable_mission = yes
		
		is_good = yes
		
		fire_only_once = yes

		cost = 0
		
		days_mission_timeout = 90
		
		cancel_trigger = {
			
			
		}
		
		is_good = yes
		
		activation = {                          
            has_country_flag = ETH_Operation_Strike_Eritrea                  
        }
		
		timeout_effect = {
			hidden_effect = { 
				ETH = {
					white_peace = EGY
					white_peace = MED
				}
				ETH = {
					transfer_state = 817
					transfer_state = 816
					transfer_state = 815
				}
				MED = {
					transfer_state = 983
					transfer_state = 268
					transfer_state = 550
				}
				EGY = {
					remove_ideas = ETH_EGY_War
				}
				remove_ideas = ETH_strike_eritrea_plan
			}
		}
		
		complete_effect = {
			ETH = {
				white_peace = EGY
				white_peace = MED
			}
			ETH = {
				transfer_state = 550
			}
			hidden_effect = { 
				ETH = {
					transfer_state = 817
					transfer_state = 816
					transfer_state = 815
				}
				MED = {
					transfer_state = 983
					transfer_state = 268
				}
				EGY = {
					remove_ideas = ETH_EGY_War
				}
				remove_ideas = ETH_strike_eritrea_plan
			}
		}
	}

	ETH_Fortify_Egyption_Border_Quickly = {

		available = {
			always = no
		}

		visible = {
			always = no
		}
		
		days_remove = 80
		
		fire_only_once = yes

		cost = 0
		
		cancel_trigger = {
				hidden_trigger = {
					has_country_flag = ETH_EGY_lost_border_war
				}
		}
		
		modifier = {
			consumer_goods_factor = 0.05
		}
		
		remove_effect = {
			817 = {
				add_building_construction = { type = bunker province = 4918 level = 3 instant_build = yes }
				add_building_construction = { type = bunker province = 12862 level = 3 instant_build = yes }
				add_building_construction = { type = bunker province = 13370 level = 3 instant_build = yes }
			}
			815 = {
				add_building_construction = { type = bunker province = 9414 level = 3 instant_build = yes }
			}
		}
	}

	ETH_Fortify_Egyption_Border_Secretly = {

		available = {
			always = no
		}

		visible = {
			always = no
		}
		
		days_remove = 160
		
		fire_only_once = yes

		cost = 0
		
		modifier = {
			political_power_gain = -1
			consumer_goods_factor = 0.05
		}
		
		remove_effect = {
			
			817 = {
				add_building_construction = { type = bunker province = 4918 level = 3 instant_build = yes }
				add_building_construction = { type = bunker province = 12862 level = 3 instant_build = yes }
				add_building_construction = { type = bunker province = 13370 level = 3 instant_build = yes }
			}
			815 = {
				add_building_construction = { type = bunker province = 9414 level = 3 instant_build = yes }
			}
		}
	}

	ETH_Egyption_Border_Skirmish_Holdout = {

		available = {
			always = no
		}

		visible = {
			always = no
		}
		
		is_good = yes
		
		days_remove = 30
		
		fire_only_once = yes

		cost = 0
		
		cancel_trigger = {
				hidden_trigger = {
					NOT = {
						has_border_war_between = {
							attacker = 549
							defender = 817
						}
					}
				}
		}
		
		modifier = {
			
		}
		
		
		remove_effect = {
			finalize_border_war = {
				attacker_win = no
				attacker = 549
				defender = 817
			}
			hidden_effect = {
				remove_ideas = ETH_the_generals_plan_1
				remove_ideas = ETH_the_generals_plan_2
				remove_ideas = ETH_the_generals_plan_3
			}
		}
		
	}

}

ETH_RUS_Diplomacy = {

	ETH_Purchase_Russian_Guns = {

		available = {
			RUS = {
					has_tech = rifle_equipment6
			}
		}

		visible = {
				tag = ETH
				date > 1890.1.1
		}
	
		fire_only_once = no

		cost = 0
	
		days_remove = 60
		
		complete_effect = {
			add_political_power = -150
			hidden_effect = { 
				RUS = { add_political_power = 150 }
			}
		}
	
		remove_effect = {
			
		}
	}
}

ETH_islamic_christian_conflict = {

	ETH_HRR_raid_abyssinian_village = {

		available = {
			ROOT = {
				is_neighbor_of = ETH
				NOT = { has_non_aggression_pact_with = ETH }
			}
			custom_trigger_tooltip={
				check_variable = { Tribal_army_num > 1999 }
				tooltip = EDC_Tribal_Army_over_2000
			}
			NOT = {has_country_flag = raiding_neighbour}
			ETH = {
				NOT = {
					has_idea = religion_sunni
					has_completed_focus = ETH_proclaim_coalition_against_islam
				}
			}
		}

		visible = {
			AND = {
				tag = HRR
				ROOT = {
					is_neighbor_of = ETH
					owns_state = 818
				}
				ETH = {
					owns_state = 816
				}
			}
		}
	
		fire_only_once = no

		cost = 0
		
		ai_will_do = {
			factor = 1
		}
	
		days_remove = 60
		
		days_re_enable = 100
		
		complete_effect = {
			army_experience = 25
			hidden_effect = {
				HRR = {
					division_template = {
						name = "Elite Tribal Infantry"
						priority = 2
						division_names_group = KRU_TRIBAL_INFANTRY_01
						regiments = {
							tribal_infantry = { x = 0 y = 0 }
						
							tribal_infantry = { x = 1 y = 0 }
						}
					}
					set_division_template_lock = {
						division_template = "Elite Tribal Infantry"
						is_locked = yes
					}
				}
				818 ={
					create_unit = {
						division = "name = \"Elite Tribal Infantry\" division_template = \"Elite Tribal Infantry\" start_experience_factor = 3.0" 
						owner = HRR
					}
				}
				add_ideas = ETH_generals_inspire
			}
			country_event = { days = 7 id = ethiopia_islamic_raid.1 }
			
		}
		
		cancel_trigger = {
			has_country_flag = ETH_border_war_ended
		}
	
		remove_effect = {
			finalize_border_war = {
				attacker_win = yes
				attacker = 818
				defender = 816
			}
			hidden_effect = {
				
			}
		}
	}
	
	ETH_AWS_raid_abyssinian_village = {

		available = {
			ROOT = {
				is_neighbor_of = ETH
				NOT = { has_non_aggression_pact_with = ETH }
			}
			custom_trigger_tooltip={
				check_variable = { Tribal_army_num > 1999 }
				tooltip = EDC_Tribal_Army_over_2000
			}
			NOT = {has_country_flag = raiding_neighbour}
			ETH = {
				NOT = {
					has_idea = religion_sunni
					has_completed_focus = ETH_proclaim_coalition_against_islam
				}
			}
		}

		visible = {
			AND = {
				tag = AWS
				ROOT = {
					is_neighbor_of = ETH
					owns_state = 819
				}
				ETH = {
					owns_state = 816
				}
			}
		}
	
		fire_only_once = no

		cost = 0
		
		ai_will_do = {
			factor = 1
		}
	
		days_remove = 60
		
		days_re_enable = 100
		
		complete_effect = {
			army_experience = 25
			hidden_effect = {
				AWS = {
					division_template = {
						name = "Elite Tribal Infantry"
						priority = 2
						division_names_group = KRU_TRIBAL_INFANTRY_01
						regiments = {
							tribal_infantry = { x = 0 y = 0 }
						
							tribal_infantry = { x = 1 y = 0 }
						}
					}
					set_division_template_lock = {
						division_template = "Elite Tribal Infantry"
						is_locked = yes
					}
				}
				819 ={
					create_unit = {
						division = "name = \"Elite Tribal Infantry\" division_template = \"Elite Tribal Infantry\" start_experience_factor = 3.0" 
						owner = AWS
					}
				}
				add_ideas = ETH_generals_inspire
			}
			country_event = { days = 7 id = ethiopia_islamic_raid.1 }
		}
		
		cancel_trigger = {
			has_country_flag = ETH_border_war_ended
		}
	
		remove_effect = {
			finalize_border_war = {
				attacker_win = yes
				attacker = 819
				defender = 816
			}
			hidden_effect = {
			
			}
		}
	}
	
	ETH_MED_raid_abyssinian_village = {

		available = {
			ROOT = {
				is_neighbor_of = ETH
				NOT = { has_non_aggression_pact_with = ETH }
			}
			custom_trigger_tooltip={
				check_variable = { Tribal_army_num > 1999 }
				tooltip = EDC_Tribal_Army_over_2000
			}
			NOT = {has_country_flag = raiding_neighbour}
			ETH = {
				NOT = {
					has_idea = religion_sunni
					has_completed_focus = ETH_proclaim_coalition_against_islam
					has_country_flag = ETH_EGY_alliance
				}
			}
		}

		visible = {
			AND = {
				tag = MED
				ROOT = {
					is_neighbor_of = ETH
					owns_state = 550
				}
				ETH = {
					owns_state = 816
				}
			}
		}
	
		fire_only_once = no
		
		ai_will_do = {
			factor = 1
		}

		cost = 0
	
		days_remove = 60
		
		days_re_enable = 100
		
		complete_effect = {
			army_experience = 25
			hidden_effect = {
				MED = {
					division_template = {
						name = "Elite Tribal Infantry"
						priority = 2
						division_names_group = KRU_TRIBAL_INFANTRY_01
						regiments = {
							tribal_infantry = { x = 0 y = 0 }
						
							tribal_infantry = { x = 1 y = 0 }
						}
					}
					set_division_template_lock = {
						division_template = "Elite Tribal Infantry"
						is_locked = yes
					}
				}
				550 ={
					create_unit = {
						division = "name = \"Elite Tribal Infantry\" division_template = \"Elite Tribal Infantry\" start_experience_factor = 3.0" 
						owner = MED
					}
				}
				add_ideas = ETH_generals_inspire
			}
			country_event = { days = 7 id = ethiopia_islamic_raid.1 }
			
		}
		
		cancel_trigger = {
			has_country_flag = ETH_border_war_ended
		}
	
		remove_effect = {
			finalize_border_war = {
				attacker_win = yes
				attacker = 550
				defender = 816
			}
			hidden_effect = {
		
			}
		}
	}
}
